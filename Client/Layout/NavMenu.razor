<ul class="space-y-2">
    <AuthorizeView Roles="Admin, Master">
        <!-- Overview -->
        <li>
            <a href="/dashboard" class="flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Overview Icon -->
                <svg aria-hidden="true" class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"></path>
                    <path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"></path>
                </svg>
                <span class="ml-3">Overview</span>
            </a>
        </li>


        <!-- Operation Group -->
        <button type="button"
                class="flex items-center p-2 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
                @onclick="@(() => ToggleDropdown("operation"))"
                aria-controls="dropdown-operation"
                aria-expanded="@(OpenDropdown == "operation")">
            <svg aria-hidden="true" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 17.17V19a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1.83A3 3 0 0 1 4 15V7a2 2 0 0 1 2-2h2V3h4v2h2a2 2 0 0 1 2 2v8c0 .39-.07.76-.18 1.11A3.01 3.01 0 0 1 20 17.17z"/>
            </svg>
            <span class="flex-1 ml-3 text-left whitespace-nowrap">Operation</span>
            <svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
        </button>
        <ul id="dropdown-operation" class="py-2 space-y-2 @(OpenDropdown == "operation" ? "" : "hidden")">
            <li>
            <a href="/trips" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Trips Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M20 17.17V19a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1.83A3 3 0 0 1 4 15V7a2 2 0 0 1 2-2h2V3h4v2h2a2 2 0 0 1 2 2v8c0 .39-.07.76-.18 1.11A3.01 3.01 0 0 1 20 17.17z"/></svg>
                Trips
            </a>
            </li>
            <li>
            <a href="/incidents" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Service Requests Icon -->                
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6V11c0-3.07-1.63-5.64-5-6.32V4a1 1 0 1 0-2 0v.68C7.63 5.36 6 7.92 6 11v5l-1.7 1.7a1 1 0 0 0 .7 1.7h14a1 1 0 0 0 .7-1.7L18 16z"/>
                </svg>
                Incidents
            </a>
            </li>
            <li>
            <a href="/requests" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Service Requests Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6V11c0-3.07-1.63-5.64-5-6.32V4a1 1 0 1 0-2 0v.68C7.63 5.36 6 7.92 6 11v5l-1.7 1.7a1 1 0 0 0 .7 1.7h14a1 1 0 0 0 .7-1.7L18 16z"/>
                </svg>
                Service Requests
            </a>
            </li>
        </ul>

        <!-- Fleet & Resources Group -->
        <button type="button"
            class="flex items-center p-2 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
            @onclick="@(() => ToggleDropdown("fleet"))"
            aria-controls="dropdown-fleet"
            aria-expanded="@(OpenDropdown == "fleet")">
            <svg class="w-[28px] h-[28px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 7h6l2 4m-8-4v8m0-8V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9h2m8 0H9m4 0h2m4 0h2v-4m0 0h-5m3.5 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
            </svg>
            <span class="flex-1 ml-3 text-left whitespace-nowrap">Fleet & Resources</span>
            <svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
        </button>
        <ul id="dropdown-fleet" class="py-2 space-y-2 @(OpenDropdown == "fleet" ? "" : "hidden")">
            <li>
            <a href="/trucks" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Trucks Icon -->
                <svg class="w-5 h-5 mr-2 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 7h6l2 4m-8-4v8m0-8V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9h2m8 0H9m4 0h2m4 0h2v-4m0 0h-5m3.5 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
                </svg>
                Trucks
            </a>
            </li>
            <li>
            <a href="/drivers" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Drivers Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.7 0 8 1.34 8 4v2H4v-2c0-2.66 5.3-4 8-4zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/></svg>
                Drivers
            </a>
            </li>
            <li>
            <a href="/sites" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Maintenance Sites Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L2 7v2c0 5.25 3.5 10.74 10 13 6.5-2.26 10-7.75 10-13V7l-10-5zm0 2.18L19.5 7.09v1.36c0 4.41-2.94 9.02-7.5 10.88-4.56-1.86-7.5-6.47-7.5-10.88V7.09L12 4.18z"/></svg>
                Maintenance Sites
            </a>
            </li>
            <li>
            <a href="/stations" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Stations Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19.77 7.23l-2-2A2.996 2.996 0 0 0 15 4H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-7h1a1 1 0 0 0 1-1V9a1 1 0 0 0-.23-.77zM17 20a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v14zm2-9h-1V9.41l1 1V11zm-1-2.41V8h1v.59l-1-1z"/>
                    <circle cx="9" cy="17" r="1"/>
                </svg>
                Stations
            </a>
            </li>
            <li>
            <a href="/refuelling" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Refuelling Info Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M16 3a1 1 0 0 0-1 1v1H7a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-7h1a2 2 0 0 0 2-2V7a4 4 0 0 0-4-4zm-1 2v2H7V6h8zm3 5a1 1 0 0 1-1 1h-1V7a2 2 0 0 1 2 2v1zm-3 10H7V8h8v12z"/>
                </svg>
                Refuelling Info
            </a>
            </li>
            <li>
            <a href="/checkpoints" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Checkpoints Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5.5z"/></svg>
                Checkpoints
            </a>
            </li>
            <li>
            <a href="/product-categories" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Product Categories Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8v-10h-8v10zm0-18v6h8V3h-8z"/></svg>
                Product Categories
            </a>
            </li>
        </ul>

        <!-- Administration Group -->
        <button type="button"
            class="flex items-center p-2 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"
            @onclick="@(() => ToggleDropdown("admin"))"
            aria-controls="dropdown-admin"
            aria-expanded="@(OpenDropdown == "admin")">
            <svg aria-hidden="true" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05C15.64 13.36 17 14.28 17 15.5V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
            </svg>
            <span class="flex-1 ml-3 text-left whitespace-nowrap">Administration</span>
            <svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
        </button>
        <ul id="dropdown-admin" class="py-2 space-y-2 @(OpenDropdown == "admin" ? "" : "hidden")">
            <li>
            <a href="/users" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- User Management Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05C15.64 13.36 17 14.28 17 15.5V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                User Management
            </a>
            </li>
            <li>
            <a href="/audit-logs" @onclick="CloseDropdown" class="flex items-center p-2 pl-11 w-full text-base font-medium text-gray-900 rounded-lg transition duration-75 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                <!-- Audit Logs Icon -->
                <svg aria-hidden="true" class="w-5 h-5 mr-2 text-gray-500" fill="currentColor" viewBox="0 0 24 24"><path d="M3 3v18h18V3H3zm16 16H5V5h14v14zm-2-2v-2h-2v2h2zm0-4v-2h-2v2h2zm0-4V7h-2v2h2zm-4 8v-2h-2v2h2zm0-4v-2h-2v2h2zm0-4V7h-2v2h2z"/></svg>
                Audit Logs
            </a>
            </li>
        </ul>
    </AuthorizeView>
    <AuthorizeView Roles="Supervisor">
          <!-- Fleet & Resources Group -->
        <li class="mt-4 mb-1 px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Fleet & Resources</li>
        <li>
            <a href="/trucks" class="flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Trucks Icon -->
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 7h6l2 4m-8-4v8m0-8V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9h2m8 0H9m4 0h2m4 0h2v-4m0 0h-5m3.5 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"/>
                    @* <span class="flex-1 ml-3 text-left whitespace-nowrap">Fleet & Resources</span> *@
                </svg>
                @* <svg aria-hidden="true" class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 17V6a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v11h1.5a2.5 2.5 0 0 0 2.5-2.5V13a1 1 0 0 0-.293-.707l-2-2A1 1 0 0 0 17 10h-1V6a3 3 0 0 0-3-3H4a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h1a3 3 0 0 0 3-3zm13 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm-8 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
                </svg> *@
                <span class="ml-3">Trucks</span>
            </a>
        </li>
        <li>
            <a href="/drivers" class="flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Drivers Icon -->
                <svg aria-hidden="true" class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 12c2.7 0 8 1.34 8 4v2H4v-2c0-2.66 5.3-4 8-4zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
                </svg>
                <span class="ml-3">Drivers</span>
            </a>
        </li>
    </AuthorizeView>
     <AuthorizeView Roles="Maintenance">
         <!-- Operation Group -->
        <li class="mt-4 mb-1 px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Operation</li>
        <li>
            <a href="/requests" class="flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Service Requests Icon -->
                <svg aria-hidden="true" class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6V11c0-3.07-1.63-5.64-5-6.32V4a1 1 0 1 0-2 0v.68C7.63 5.36 6 7.92 6 11v5l-1.7 1.7a1 1 0 0 0 .7 1.7h14a1 1 0 0 0 .7-1.7L18 16z"/>
                </svg>
                <span class="ml-3">Service Requests</span>
            </a>
        </li>
     </AuthorizeView>
      <AuthorizeView Roles="Monitoring">
        <!-- Operation Group -->
        <li class="mt-4 mb-1 px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">Operation</li>
        <li>
            <a href="/trips" class="flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Trips Icon -->
                <svg aria-hidden="true" class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 17.17V19a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1.83A3 3 0 0 1 4 15V7a2 2 0 0 1 2-2h2V3h4v2h2a2 2 0 0 1 2 2v8c0 .39-.07.76-.18 1.11A3.01 3.01 0 0 1 20 17.17z"/>
                </svg>
                <span class="ml-3">Trips</span>
            </a>
        </li>
        <li>
            <a href="/requests" class="flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Service Requests Icon -->
                <svg aria-hidden="true" class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6V11c0-3.07-1.63-5.64-5-6.32V4a1 1 0 1 0-2 0v.68C7.63 5.36 6 7.92 6 11v5l-1.7 1.7a1 1 0 0 0 .7 1.7h14a1 1 0 0 0 .7-1.7L18 16z"/>
                </svg>
                <span class="ml-3">Service Requests</span>
            </a>
        </li>
      </AuthorizeView>
      <AuthorizeView Roles="Management">
         <li>
            <a href="/dashboard" class="flex items-center p-2 text-base font-medium text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <!-- Overview Icon -->
                <svg aria-hidden="true" class="w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"></path>
                    <path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"></path>
                </svg>
                <span class="ml-3">Overview</span>
            </a>
        </li>
      </AuthorizeView>
</ul>


@code {
    private string OpenDropdown { get; set; } = string.Empty;

    private void ToggleDropdown(string dropdown)
    {
        if (OpenDropdown == dropdown)
        {
            OpenDropdown = string.Empty;
        }
        else
        {
            OpenDropdown = dropdown;
        }
    }

    private void CloseDropdown()
    {
        OpenDropdown = string.Empty;
    }
}